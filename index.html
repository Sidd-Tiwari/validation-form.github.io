<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <title>Form</title>
</head>
<style>
    fieldset {
        background-color: rgb(208, 224, 182);
        border: 1px solid rgb(32, 109, 32);
    }
    label{
        font-size: large;
        font-weight: bold;
        font-family: 'Times New Roman', Times, serif;
        text-transform: uppercase;
    }
    input:hover{
        cursor: pointer;
    }
    h2{
        text-align: center;
        color: rgb(0, 0, 0);
        font-weight: bold;
        text-transform: uppercase;
        font-family: 'Times New Roman', Times, serif;
    }
    div.submit{
        margin-left: 50%;
    }
    body{
        background-color: rgb(225, 251, 187);
    }
</style>
<div class="container mx-auto">
    <body>
        <h2 class="mt-2">Form Validation</h2>
        
        <form name="form-validation"  onsubmit="return validateForm()">
            <fieldset >
                <div class="mt-1">
                <label for="name" >Name</label><br>
                    <input type="text" id="name" class="form-control mt-1" placeholder="Enter your name" required><br>
                </div>
                <div class="mt-1">
                <label for="dob">DOB</label><br>
                    <input type="date" id="dob" class="form-control" required><br>
                </div>
                <div class="mt-1">
                <label for="contact">Contact</label><br>
                    <input type="tel" size="10" maxlength="10" id="contact"class="form-control" placeholder="Contact number"  required><br>
                </div>
                <div class="submit">
                <input type="submit" value="Submit">
                </div>
            </fieldset>
        </form>
    </div>

    
    <script>
        function validateForm() {
            var name = document.getElementById('name').value;
            var dob = document.getElementById('dob').value;
            var contact = document.getElementById('contact').value;
        
            var regexName = /^[A-Z][a-z\s]+$/;
            var regexPhone = /^[1-9][0-9]+$/;
        
            if(name === "" || dob === "" || contact === ""){
                alert("All fields are required.");
                return false;
            }
        
            if(name.length < 4){
                alert("Please enter a name with at least 4 letters.");
                return false;
            }
        
            if (!/^\S{3,}$/.test(name)) {
                alert('Name cannot contain whitespace.');
                return false;
            }
        
            if (!regexName.test(name)) {
                alert("Name's first letter should be capital and not contain numbers or special characters.");
                return false;
            }
        
            if (!/^(?:(\w)(?!\1\1))+$/.test(name)) {
                alert("Per 3 alphabets allowed.");
                return false;
            }
        
            const dobDate = new Date(dob);
            const today = new Date();
        
            // Calculate age in years, months, and days
            let ageYears = today.getFullYear() - dobDate.getFullYear();
            let ageMonths = today.getMonth() - dobDate.getMonth();
            let ageDays = today.getDate() - dobDate.getDate();
        
            if (ageDays < 0) {
                ageMonths--;
                ageDays += new Date(today.getFullYear(), today.getMonth(), 0).getDate();
            }
        
            if (ageMonths < 0) {
                ageYears--;
                ageMonths += 12;
            }
        
            if (ageYears < 13) {
                alert('You must be at least 13 years old.');
                return false;
            }
            
            if(contact.length < 10){
                alert("Enter a 10-digit number.");
                return false;
            }
        
            if(!regexPhone.test(contact)){
                alert("Phone number should contain only valid numbers.");
                return false;
            }
        
            alert(`Form submitted!\nName: ${name}\nDOB: ${ageYears} years, ${ageMonths} months, and ${ageDays} days\nPhone no.: ${contact}`);
            return true;
        }
        
        // Disable Right Click
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });
        
        // Text Selection and Copy Disabled
        document.addEventListener('DOMContentLoaded', (event) => {
            document.body.addEventListener('selectstart', (e) => e.preventDefault());
            document.body.addEventListener('copy', (e) => e.preventDefault());
            document.body.addEventListener('cut', (e) => e.preventDefault());
            document.body.addEventListener('paste', (e) => e.preventDefault());
        });
        
    </script>
</body>
</html>